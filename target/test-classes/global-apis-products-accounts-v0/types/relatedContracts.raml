#%RAML 1.0 Library
uses:
  annotations: ../../global-apis-commons-commons-v0/annotations/annotationsLibrary.raml

types:
  relatedContracts:
    type: array
    items:
      properties:
        relatedContractId:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: string
          description: |
            Identifier associated to the relationship between the card and the contract.
          required: false
        contractId:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: string
          description: |
            Identifier associated to the contract.
          required: false
        number:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
            - method: "POST"
              input: "NONE"
              output: "REQUIRED"
          type: string
          description: |
            Contract number.
          required: false
        numberType:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: object
          description: |
            Contract number type based on the financial product type.
          properties:
            id:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              enum: [CCC, IBAN, SWIFT, PAN, CLABE, SPEI, LIC, SIMPLE_ACCOUNT]
              (annotations.countrySpecific):
                - country: ES
                  description: CCC applies only to Spain
                - country: MX
                  description: CLABE applies only to Mexico
                - country: CL
                  description: SIMPLE_ACCOUNT applies only to Chile
              (annotations.enumDescription):
                - CCC: Código Cuenta Cliente, Spanish for "Customer Account Code". It is a name given in Spain to a standard Bank Account
                - IBAN: Internacional Bank Account Number. Is the standard 'EBS204', also according to the ISO 13616, of the European Committee for Banking Standards for identify Bank Accounts
                - SWIFT: Society for Worldwide Interbank Financial Telecommunication. Provides the Bank Identifier Code (BIC) that identifies financial institutions, without going into the specific account
                - PAN: Primary Account Number. It consists of 14, 15 or 16 digit numbers that are embossed and/or encoded on a plastic card that identifies the issuer and the particular cardholder account
                - CLABE: Clave Bancaria Estandarizada, Spanish for "Standardized Banking Cipher". It is a banking standard for the numbering of bank accounts in Mexico
                - SPEI: Electronic Payments Interbanking System (Sistema de Pagos Electrónicos Interbancarios). This format is used for making transfers easily by only knowing the phone number of the transferee
                - LIC: Local Internal Code. This code is a BBVA internal code generated by those countries where there's no official regulation for numbering bank accounts
                - SIMPLE_ACCOUNT: This attribute is used to manage the Simple Account number value.
              description: |
                Contract number type identifier.
              required: true
            name:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              description: |
                Contract number type description.
              required: false
          required: false
        product:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: object
          description: |
            Financial product associated to the contract.
          properties:
            id:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              enum: [ACCOUNTS, CARDS]
              (annotations.enumDescription):
                - ACCOUNTS: An account as the financial product associated to the contract
                - CARDS: A card as the financial product associated to the contract
              description: |
                Financial product identifier.
              required: true
            name:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              description: |
                Financial product name.
              required: false
          required: false
        relationType:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: object
          description: |
            Type of relation between the related contract and the card.
          properties:
            id:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              description: |
                Relation type identifier.
              required: true
            name:
              (annotations.bindingDefinition):
                - method: "GET"
                  input: "NONE"
                  output: "REQUIRED"
              type: string
              description: |
                Relation type name.
              required: false
          required: false
