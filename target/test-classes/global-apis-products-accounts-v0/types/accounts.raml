#%RAML 1.0 Library
uses:
  annotations:  ../../global-apis-commons-commons-v0/annotations/annotationsLibrary.raml
  accountNumberFormat: accountNumberFormat.raml
  image: image.raml
  availableBalance: availableBalance.raml
  disposedBalance: disposedBalance.raml
  status: status.raml
  title: title.raml
  accountType: accountType.raml
  balanceSummary: balanceSummary.raml

types:
  accounts:
    type: array
    items:
      properties:
        accountId:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: string
          required: false
          description: |
            Account identifier.
        number:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: string
          required: false
          description: |
            Account number. This number consists in an alpha-numerical sequence to identify an account.

        numberType:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: accountNumberFormat.accountNumberFormat
          required: false
          description: |
            Type of account number. This type identifies the universal standard of an account number.

        accountType:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: accountType.accountType
          required: false
          description: |
            Type of financial product.

        title:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: title.title
          required: false
          description: |
            Title of the financial product.

        alias:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: string
          required: false
          (annotations.countryException):
            - country: US
              description: Alias is optional in the US
          description: |
            User-customizable alias assigned to the account to name the account the way the user likes.

        openingDate:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: date-only
          required: false
          description: |
            String based on ISO-8601 date format for specifying the account creation date.

        currencies:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: array
          required: false
          description: |
            Currencies related to the account. Monetary amounts related to the account may be provided in one or many of these currencies.
          items:
            properties:
              currency:
                (annotations.bindingDefinition):
                  - method: "GET"
                    input: "NONE"
                    output: "REQUIRED"
                  - method: "PATCH"
                    input: "NONE"
                    output: "REQUIRED"
                  - method: "POST"
                    input: "NONE"
                    output: "REQUIRED"
                type: string
                required: false
                description: |
                  String based on ISO-4217 for specifying the currency.
              isMajor:
                (annotations.bindingDefinition):
                  - method: "GET"
                    input: "NONE"
                    output: "REQUIRED"
                  - method: "PATCH"
                    input: "NONE"
                    output: "REQUIRED"
                  - method: "POST"
                    input: "NONE"
                    output: "REQUIRED"
                type: boolean
                required: false
                description: |
                  Flag indicating whether this currency corresponds to the main currency.
        grantedCredits:
          (annotations.countrySpecific):
            - country: CL
              description: For 'Bono FÃ¡cil' accounts, grantedCredits will be set to the total invoicing amount provided the month before.
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: array
          required: false
          description: |
            Granted credit. This amount may be provided in several currencies (depending on the country). This attribute is mandatory for credit accounts. It\'s represented by the granted credit monetary amount and the currency related to the granted credit amount.
          items:
            properties:
              amount:
                (annotations.bindingDefinition):
                  - method: "GET"
                    input: "NONE"
                    output: "REQUIRED"
                type: number
                required: false
                description: |
                  Granted credit monetary amount.
              currency:
                (annotations.bindingDefinition):
                  - method: "GET"
                    input: "NONE"
                    output: "REQUIRED"
                type: string
                required: false
                description: |
                  String based on ISO-4217 for specifying the currency related to the granted credit amount.
        availableBalance:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: availableBalance.availableBalance
          required: false
          description: |
            This attribute provides the account balance. This balance may be provided in several currencies (depending on the country).

        disposedBalance:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: disposedBalance.disposedBalance
          required: false
          description: |
            This balance is the total spent amount from granted credit. This attribute is mandatory for credit accounts.

        balanceSummary:
          (annotations.bindingDefinition):
              - method: "GET"
                input: "NONE"
                output: "OPTIONAL"
          type: balanceSummary.balanceSummary
          required: false
          description: |
            Balance summary (expenses and incomes) for the current day.

        status:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "REQUIRED"
          type: status.status
          required: false
          description: |
            Current status of the account.

        image:
          (annotations.bindingDefinition):
            - method: "GET"
              input: "NONE"
              output: "OPTIONAL"
          type: image.image
          required: false
          description: |
            Associated image to the account.
